(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[10],{293:function(e,t,n){"use strict";var a=n(36),i=n(2),r=n(171),o=Object(r.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarTitle:{margin:"0px",padding:"12px"},toolbarIcon:Object(i.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{height:"100vh",overflowY:"auto",position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),"&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}},drawerPaperClose:Object(a.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",flexDirection:"column",marginBottom:e.spacing(4)},fixedHeight:{height:240},activeNavLink:{background:"#F3F5FF",color:e.palette.primary.main}}}));t.a=o},304:function(e,t,n){"use strict";var a=n(29),i={getDanhSachPhim:function(){return a.a.get("/QuanLyPhim/LayDanhSachPhim?maNhom=GP09")},getThongTinPhim:function(e){var t="/QuanLyPhim/LayThongTinPhim?MaPhim=".concat(e);return a.a.get(t)},getDanhSachPhimPhanTrang:function(e){return a.a.get("/QuanLyPhim/LayDanhSachPhimPhanTrang",{param:e})},postThemPhim:function(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return a.a.post("/QuanLyPhim/ThemPhimUploadHinh",t)},postCapNhatPhim:function(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return console.log(t.get("hinhAnh")),a.a.post("/QuanLyPhim/CapNhatPhimUpload",t)},deleteMovie:function(e){var t="/QuanLyPhim/XoaPhim?MaPhim=".concat(e);return a.a.delete(t)}};t.a=i},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(35),i=n.n(a),r=n(53),o=n(59),c=n(304),l=function(){return function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.c}),e.prev=1,e.next=4,c.a.getDanhSachPhim();case 4:n=e.sent,t((i=n,{type:o.d,data:i})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:o.b,error:a}));case 11:case"end":return e.stop()}var a,i}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e){return{type:o.a,movie:e}}},339:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),i=n.n(a),r=n(275),o=n(279),c=n(269),l=n(98),u=n(171),h=Object(u.a)((function(e){return{pageTitleContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(4)},typo:{color:e.palette.text.hint},button:{textTransform:"none",height:"50px","&:active":{color:e.palette.primary.light}}}}));function d(e){var t=h();return i.a.createElement("div",{className:t.pageTitleContainer},i.a.createElement(l.a,{className:t.typo,variant:"h2",size:"sm"},e.title),e.button&&i.a.createElement(c.a,{classes:{root:t.button},variant:"contained",size:"large",color:"secondary"},e.button),e.select&&i.a.createElement("div",null))}var s=n(293);function m(e){var t=Object(s.a)(),n=e.title,a=e.children;return i.a.createElement(r.a,{maxWidth:"lg",className:t.container},n&&i.a.createElement(d,{title:n}),i.a.createElement(o.a,{container:!0,spacing:3},i.a.createElement(o.a,{item:!0,xs:12},a)))}},345:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(13),o=n.n(r),c=n(112),l=n.n(c),u=n(11);t.a=Object(a.memo)((function(){var e=Object(u.c)((function(e){return e.listMovieReducer.detailMovie}));return Object(a.useEffect)((function(){l()("#movieTrailer").on("hidden.bs.modal",(function(e){l()("#movieTrailer iframe").attr("src",l()("#movieTrailer iframe").attr("src"))}))}),[]),o.a.createPortal(i.a.createElement("div",{className:"modal fade movieModal",tabIndex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true",id:"movieTrailer"},i.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg"},i.a.createElement("div",{className:"modal-content",style:{background:"#000"}},i.a.createElement("div",{className:"modal-body"},i.a.createElement("iframe",{title:"trailer",width:"100%",height:"85%",src:null===e||void 0===e?void 0:e.trailer,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;",autoPlay:!0,allowFullScreen:!0}))))),document.getElementById("modal-root"))}))},391:function(e,t,n){"use strict";var a=n(2),i=n(449),r=n.n(i),o=n(0),c=n.n(o),l=n(54),u=n(476),h=n.n(u),d=n(488),s=n.n(d),m=n(477),f=n.n(m),g=n(486),p=n.n(g),b=n(480),v=n.n(b),w=n(478),j=n.n(w),y=n(479),O=n.n(y),P=n(481),T=n.n(P),E=n(483),x=n.n(E),A=n(484),R=n.n(A),k=n(485),S=n.n(k),C=n(489),D=n.n(C),L=n(482),M=n.n(L),I=n(487),B=n.n(I),N=n(490),G=n.n(N),F=n(28),V=n(18),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e).filter((function(n,a){return t[n]!==e[n]}));return n.pop(),n.join(", ")},Q=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};switch(e){case"update":"Account Table"===t?alert("\u0110\xe3 c\u1eadp nh\u1eadt ".concat(K(a,i)," ng\u01b0\u1eddi d\xf9ng: ").concat(n.taiKhoan)):"Movie Table"!==t&&"Showtime Table"!==t||alert("\u0110\xe3 c\u1eadp nh\u1eadt ".concat(K(a,i)," phim: ").concat(n.tenPhim));break;case"delete":"Account Table"===t?alert("".concat(n," t\xe0i kho\u1ea3n: ").concat(i.taiKhoan)):"Movie Table"!==t&&"Showtime Table"!==t||alert("".concat(n," phim: ").concat(i.tenPhim));break;case"add":"Account Table"===t?alert("Th\xeam th\xe0nh c\xf4ng ng\u01b0\u1eddi d\xf9ng: ".concat(n.taiKhoan||a.tenPhim)):"Movie Table"!==t&&"Showtime Table"!==t||alert("Th\xeam th\xe0nh c\xf4ng phim: ".concat(n.tenPhim||a.tenPhim));break;default:alert("Action done!!")}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().toLowerCase().split(" ").join("-")};var H=function(e){var t=Object(o.useState)([]),n=Object(V.a)(t,2),i=n[0],r=n[1],c=Object(o.useState)(!0),l=Object(V.a)(c,2),u=l[0],h=l[1],d=Object(o.useCallback)((function(t,n){if(void 0!==t)return null!==n?t(n):t().then((function(t){r(t),"Movie Table"===e&&h(!1)})).catch((function(e){alert(e.response.data)}))}),[e]);return{data:i,isChanged:u,callAPI:d,handleFetchData:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];d.apply(void 0,[t].concat(a)).then((function(t){r(t),"Movie Table"===e&&h(!1)})).catch((function(e){alert(e.response.data)}))},handleRowUpdate:function(t,n,o,c,l){var u={};"Account Table"===e?u=Object(a.a)({},t):"Movie Table"===e&&(u=Object(a.a)(Object(a.a)({},t),{},{biDanh:n.tenPhim!==t.tenPhim?U(t.tenPhim):n.biDanh,ngayKhoiChieu:new Date(t.ngayKhoiChieu).toLocaleDateString("en-GB"),danhGia:parseInt(t.danhGia),hinhAnh:"string"===typeof t.hinhAnh?null:t.hinhAnh})),console.log(u),d(l,Object(a.a)(Object(a.a)({},u),{},{maNhom:"GP09"})).then((function(a){var c=Object(F.a)(i);c[n.tableData.id]=t,r(Object(F.a)(c)),Q("update",e,a,t,n),h(!0),o()})).catch((function(e){alert("L\u1ed7i sever, kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt. H\xe3y ch\u1eafc ch\u1eafn b\u1ea1n \u0111\xe3 \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin"),console.log(e),h(!1),c()}))},handleRowAdd:function(t,n,o,c){var l={};"Account Table"===e?l=Object(a.a)(Object(a.a)({},t),{},{maNhom:"GP09"}):"Movie Table"===e&&(l=Object(a.a)(Object(a.a)({},t),{},{maNhom:"GP09",biDanh:U(t.tenPhim),ngayKhoiChieu:new Date(t.ngayKhoiChieu).toLocaleDateString("en-GB")}),console.log(l)),d(c,l).then((function(a){var o=Object(F.a)(i);o.unshift(t),r(o),Q("add",e,a,t,null),h(!0),n()})).catch((function(e){var t;alert(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),h(!1),o()}))},handleRowDelete:function(t,n,a,o){var c=null;"Account Table"===e?c=t.taiKhoan:"Movie Table"===e&&(c=t.maPhim),d(o,c).then((function(a){var o=Object(F.a)(i),c=t.tableData.id;o.splice(c,1),r(Object(F.a)(o)),Q("delete",e,a,null,t),h(!0),n()})).catch((function(e){var t;alert(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),h(!1),a()}))}}},z=n(10),W={Add:Object(o.forwardRef)((function(e,t){return c.a.createElement(h.a,Object.assign({},e,{ref:t}))})),Check:Object(o.forwardRef)((function(e,t){return c.a.createElement(f.a,Object.assign({},e,{ref:t}))})),Clear:Object(o.forwardRef)((function(e,t){return c.a.createElement(j.a,Object.assign({},e,{ref:t}))})),Delete:Object(o.forwardRef)((function(e,t){return c.a.createElement(O.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(o.forwardRef)((function(e,t){return c.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Edit:Object(o.forwardRef)((function(e,t){return c.a.createElement(T.a,Object.assign({},e,{ref:t}))})),Export:Object(o.forwardRef)((function(e,t){return c.a.createElement(M.a,Object.assign({},e,{ref:t}))})),Filter:Object(o.forwardRef)((function(e,t){return c.a.createElement(x.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(o.forwardRef)((function(e,t){return c.a.createElement(R.a,Object.assign({},e,{ref:t}))})),LastPage:Object(o.forwardRef)((function(e,t){return c.a.createElement(S.a,Object.assign({},e,{ref:t}))})),NextPage:Object(o.forwardRef)((function(e,t){return c.a.createElement(v.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(o.forwardRef)((function(e,t){return c.a.createElement(p.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(o.forwardRef)((function(e,t){return c.a.createElement(j.a,Object.assign({},e,{ref:t}))})),Search:Object(o.forwardRef)((function(e,t){return c.a.createElement(B.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(o.forwardRef)((function(e,t){return c.a.createElement(s.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(o.forwardRef)((function(e,t){return c.a.createElement(D.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(o.forwardRef)((function(e,t){return c.a.createElement(G.a,Object.assign({},e,{ref:t}))}))};function X(e){var t=e.tableType,n=e.getAPI,i=e.addAPI,u=e.updateAPI,h=e.deleteAPI,d=Object(l.a)(z.d),s=H(t),m=s.data,f=s.isChanged,g=s.callAPI,p=s.handleRowUpdate,b=s.handleRowAdd,v=s.handleRowDelete;return Object(o.useEffect)((function(){f&&g(n,null)}),[f,g,n]),c.a.createElement(c.a.Fragment,null,c.a.createElement(r.a,{title:e.title,icons:W,localization:{body:{editRow:{deleteText:"D\u1eef li\u1ec7u b\u1ecb x\xf3a s\u1ebd kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a?"}}},columns:e.columns,data:m,options:Object(a.a)({headerStyle:{fontWeight:"900",backgroundColor:"#999966",color:"#fff"},addRowPosition:"first",filtering:!0,padding:d?"dense":"default",maxBodyHeight:"70vh",draggable:!1,rowStyle:function(e,t,n){return{background:t%2?"#c7c6ca":"initial"}}},e.customTableOption),editable:{onRowAdd:function(e){return new Promise((function(t,n){b(e,t,n,i)}))},onRowUpdate:function(e,t){return new Promise((function(n,a){p(e,t,n,a,u)}))},onRowDelete:function(e){return new Promise((function(t,n){v(e,t,n,h)}))}}}))}X.defaultProps={title:"Account List",columns:[],tableType:"Account Table",getAPI:function(){},addAPI:function(){},updateAPI:function(){},deleteAPI:function(){}};t.a=X},615:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var a=n(174),i=n(0),r=n.n(i),o=n(67),c=n(293),l=n(339),u=n(11),h=n(304),d=n(345),s=n(312),m=n(391),f=function(e,t){var n,a;return"delete"===(null===(n=e.tableData)||void 0===n?void 0:n.editing)||("hinhAnh"===t||e[t]||(e[t]=""),"hinhAnh"!==t&&e[t].length<1?{isValid:!1,helperText:"".concat(t," kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}:"hinhAnh"===t&&"string"===typeof e[t]&&"update"!==(null===(a=e.tableData)||void 0===a?void 0:a.editing)?{isValid:!1,helperText:"B\u1ea1n ph\u1ea3i ch\u1ecdn h\xecnh \u1ea3nh"}:"danhGia"!==t&&e[t].length<4?{isValid:!1,helperText:"".concat(t," qu\xe1 ng\u1eafn")}:!("danhGia"===t&&(parseFloat(e[t])>10||parseFloat(e[t]<0)||!String(e[t]).match(/^[0-9]{1,2}$/)))||{isValid:!1,helperText:"\u0110i\u1ec3m t\u1eeb  0 - 10"})};var g=Object(u.b)(null,(function(e){return{actGetTrailer:function(t){e(Object(s.b)(t))}}}))((function(e){var t=Object(i.useMemo)((function(){return function(e){var t=e.actGetTrailer;return[{title:"T\xean phim",field:"tenPhim",validate:function(e){return f(e,"tenPhim")},initialEditValue:"Truy\u1ec1n Thuy\u1ebft Qu\xe1n Ti\xean"},{title:"Trailer",field:"trailer",render:function(e){return r.a.createElement("a",{"data-toggle":"modal","data-target":"#movieTrailer",href:"play-trailer-phim-".concat(e.biDanh),style:{color:"#01579b",textDecoration:"underline"},onClick:function(){return t(e)}},"Watch Trailer")},validate:function(e){return f(e,"trailer")},initialEditValue:"https://www.youtube.com/embed/TyfBgQKsEXs"},{title:"H\xecnh \u1ea3nh",field:"hinhAnh",render:function(e){return r.a.createElement("img",{src:e.hinhAnh,alt:e.tenPhim,style:{width:"50px"}})},initialEditValue:new File([new Blob],"file placeholder for add new"),editComponent:function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"file",name:"hinhAnh",placeholder:e.columnDef.title,onChange:function(t){e.onChange(t.target.files[0])}}),r.a.createElement("img",{src:"string"===typeof e.value?e.value:window.URL.createObjectURL(e.value),alt:"preview",id:"img-upload",style:{width:"50px"}}))}},{title:"M\xf4 t\u1ea3",field:"moTa",width:"100%",initialEditValue:"L\u1ea5y b\u1ed1i c\u1ea3nh Tr\u01b0\u1eddng S\u01a1n th\u1eddi ch\u1ed1ng M\u1ef9, theo truy\u1ec7n ng\u1eafn g\u1ed1c c\u1ee7a nh\xe0 v\u0103n Xu\xe2n Thi\u1ec1u l\xe0 n\u0103m 1966. Ba c\xf4 g\xe1i M\xf9i, Lan v\xe0 Ph\u01b0\u1ee3ng \u0111\u01b0\u1ee3c binh tr\u1ea1m tr\u01b0\u1edfng giao nhi\u1ec7m v\u1ee5 m\u1edf qu\xe1n \u0103n trong hang \u0111\u1ec3 ti\u1ebfp t\u1ebf cho b\u1ed9 \u0111\u1ed9i h\xe0nh qu\xe2n. Ba n\u1eef thanh ni\xean xung phong \u1edf Qu\xe1n Ti\xean, m\u1ed7i ng\u01b0\u1eddi l\xe0 m\u1ed9t m\u1eabu ph\u1ee5 n\u1eef. M\xf9i \u0111\xe0n b\xe0, m\u1eb7n m\xe0 nh\u01b0ng chung th\u1ee7y, k\xecm n\xe9n. Tuy\u1ebft Lan b\u1ea3n n\u0103ng, ngo\xe0i hi\u1ec1n l\xe0nh trong d\u1eef d\u1ed9i, m\u1eafc ch\u1ee9ng cu\u1ed3ng lo\u1ea1n. Ph\u01b0\u1ee3ng tr\u1ebb con, v\xf4 t\u01b0 nh\u01b0ng s\xe2u n\u1eb7ng khi y\xeau.",render:function(e){return r.a.createElement("div",{style:{width:"100%",minWidth:"350px",textAlign:"justify"}},e.moTa)},editComponent:function(e){return r.a.createElement("div",{style:{width:"100%",minWidth:"350px"}},r.a.createElement("textarea",{rows:"10",style:{width:"100%"},placeholder:"great movie",onChange:function(t){return e.onChange(t.target.value)},defaultValue:e.value||""}))},validate:function(e){return f(e,"moTa")}},{title:"Ng\xe0y kh\u1edfi chi\u1ebfu",field:"ngayKhoiChieu",type:"date",initialEditValue:new Date,dateSetting:{locale:"en-GB"},validate:function(e){return f(e,"ngayKhoiChieu")}},{title:"\u0110\xe1nh gi\xe1",field:"danhGia",editable:"onUpdate",initialEditValue:"8",validate:function(e){return f(e,"danhGia")}}]}(e)}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{title:"Movie List",tableType:"Movie Table",columns:t,customTableOption:{filtering:!1},getAPI:h.a.getDanhSachPhim,addAPI:h.a.postThemPhim,updateAPI:h.a.postCapNhatPhim,deleteAPI:h.a.deleteMovie}),r.a.createElement(d.a,null))}));function p(){Object(o.a)("Qu\u1ea3n l\xfd phim","admin");var e=Object(c.a)();return r.a.createElement(l.a,{title:"Manage Movies"},r.a.createElement(a.a,{className:e.paper},r.a.createElement(g,null)))}}}]);
//# sourceMappingURL=10.4f3c622b.chunk.js.map