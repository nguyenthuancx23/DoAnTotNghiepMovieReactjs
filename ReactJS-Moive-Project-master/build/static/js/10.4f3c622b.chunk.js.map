{"version":3,"sources":["style/useAdminStyle.js","api/moviesApi.js","containers/HOME/HomePage/modules/action.js","containers/ADMIN/PageTitle/index.js","containers/ADMIN/MainContent/index.js","Components/ModalPopup/index.js","containers/ADMIN/MyTable.js/useTable.js","containers/ADMIN/MyTable.js/index.js","containers/ADMIN/ManageMovies/MoviesTable.js","containers/ADMIN/ManageMovies/index.js"],"names":["useAdminStyles","makeStyles","theme","root","display","toolbar","paddingRight","toolbarTitle","margin","padding","toolbarIcon","alignItems","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","height","overflowY","position","whiteSpace","boxShadow","webkitBoxShadow","backgroundColor","outline","drawerPaperClose","overflowX","spacing","breakpoints","up","appBarSpacer","content","overflow","container","paddingTop","paddingBottom","paper","flexDirection","marginBottom","fixedHeight","activeNavLink","background","color","palette","primary","main","moviesApi","getDanhSachPhim","axiosClient","get","getThongTinPhim","maPhim","uri","getDanhSachPhimPhanTrang","param","postThemPhim","movie","formData","FormData","key","append","post","postCapNhatPhim","console","log","deleteMovie","delete","actFetchListMoive","dispatch","a","type","LIST_MOVIE_REQUEST","resData","data","LIST_MOVIE_SUCCESS","error","LIST_MOVIE_FAILED","actFindMovieTrailer","DETAIL_MOVIE_MODAL","useStyles","pageTitleContainer","typo","text","hint","button","textTransform","light","PageTitle","props","classes","className","Typography","variant","size","Button","select","MainContent","children","Container","maxWidth","Grid","item","xs","memo","detailMovie","useSelector","state","listMovieReducer","useEffect","$","on","e","attr","ReactDOM","createPortal","tabIndex","role","aria-labelledby","aria-hidden","id","style","src","trailer","frameBorder","allow","autoPlay","allowFullScreen","document","getElementById","findUpatedKey","newData","oldData","updatedKeys","Object","keys","filter","idx","pop","join","alertCase","caseType","tableType","res","alert","taiKhoan","tenPhim","transformString","trim","toLowerCase","split","useTable","useState","setData","isChanged","setIsChanged","callAPI","useCallback","api","body","undefined","then","catch","response","handleFetchData","getApi","query","handleRowUpdate","resolve","reject","updateAPI","biDanh","ngayKhoiChieu","Date","toLocaleDateString","danhGia","parseInt","hinhAnh","maNhom","dataUpdate","tableData","handleRowAdd","addAPI","dataToAdd","unshift","handleRowDelete","deleteAPI","dataDelete","index","splice","tableIcons","Add","forwardRef","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","MyTable","getAPI","isMobile","useMedia","MOBILE_MEDIA","icons","localization","editRow","deleteText","columns","options","headerStyle","fontWeight","addRowPosition","filtering","maxBodyHeight","draggable","rowStyle","rowData","num","customTableOption","editable","onRowAdd","Promise","resovle","onRowUpdate","onRowDelete","defaultProps","validateFunc","field","editing","length","isValid","helperText","parseFloat","String","match","connect","actGetTrailer","useMemo","validate","initialEditValue","render","data-toggle","data-target","href","textDecoration","onClick","alt","File","Blob","editComponent","name","placeholder","columnDef","onChange","target","files","value","window","URL","createObjectURL","minWidth","textAlign","moTa","rows","defaultValue","dateSetting","locale","makeColumns","ModalPopup","ManageMovies","useTitle","Paper"],"mappings":"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","file":"static/js/10.4f3c622b.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core/styles\";\n\nconst drawerWidth = 240;\n\nconst useAdminStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarTitle: {\n    margin: \"0px\",\n    padding: \"12px\",\n  }, \n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  // titleHidden: {\n  //   visibility: \"hidden\",\n  // },\n  drawerPaper: {\n    height: \"100vh\",\n    overflowY: \"auto\",\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    \"&::-webkit-scrollbar\": {\n      width: \"0.4em\",\n    },\n    \"&::-webkit-scrollbar-track\": {\n      boxShadow: \"inset 0 0 6px rgba(0,0,0,0.00)\",\n      webkitBoxShadow: \"inset 0 0 6px rgba(0,0,0,0.00)\",\n    },\n    \"&::-webkit-scrollbar-thumb\": {\n      backgroundColor: \"rgba(0,0,0,.1)\",\n      outline: \"1px solid slategrey\",\n    },\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: \"100vh\",\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    // overflow: \"auto\",\n    flexDirection: \"column\",\n    marginBottom: theme.spacing(4),\n  },\n  fixedHeight: {\n    height: 240,\n  },\n  activeNavLink: {\n    background: \"#F3F5FF\",\n    color: theme.palette.primary.main,\n  },\n}));\n\nexport default useAdminStyles;\n","import axiosClient from \"./axiosClient\";\nconst moviesApi = {\n  //lấy thông tin toàn bộ danh sách phim\n  getDanhSachPhim: () => {\n    const uri = \"/QuanLyPhim/LayDanhSachPhim?maNhom=GP09\";\n    return axiosClient.get(uri);\n  },\n \n  //lấy thông tin của 1 phim, bao gồm 1 mảng lichChieu<obj> không phân biệt cụm rạp\n  getThongTinPhim: (maPhim) => {\n    const uri = `/QuanLyPhim/LayThongTinPhim?MaPhim=${maPhim}`;\n    return axiosClient.get(uri);\n  },\n\n  //không co param sẽ 1 trang, 10 phần tử\n  getDanhSachPhimPhanTrang: (param) => {\n    const uri = `/QuanLyPhim/LayDanhSachPhimPhanTrang`;\n    // param = ?maNhom=GP09&soTrang=${soTrang}&soPhanTuTrenTrang=${soPhanTuTrenTrang}`\n    return axiosClient.get(uri, { param });\n  },\n\n  // postImages: (fileImg, token) => {\n  //   const uri = `/QuanLyPhim/UploadHinhAnhPhim`;\n  //   const config = {\n  //     headers: {\n  //       Authorization: `Bearer ${token}`,\n  //     },\n  //   };\n  //   return axiosClient.post(uri, fileImg, config);\n  // },\n\n  postThemPhim: (movie) => {\n    const uri = `/QuanLyPhim/ThemPhimUploadHinh`;\n    //trong obj movie có key hinhAnh là file nên phải chuyển sang formData\n    const formData = new FormData();\n    for (const key in movie) {\n      formData.append(key, movie[key]);\n    }\n    return axiosClient.post(uri, formData);\n  },\n\n  postCapNhatPhim: (movie) => {\n    const uri = `/QuanLyPhim/CapNhatPhimUpload`;\n    const formData = new FormData();\n    for (const key in movie) {\n      formData.append(key, movie[key]);\n    }\n\n    console.log(formData.get(\"hinhAnh\"));\n\n    return axiosClient.post(uri, formData);\n  },\n\n  deleteMovie: (maPhim) => {\n    const uri = `/QuanLyPhim/XoaPhim?MaPhim=${maPhim}`;\n\n    return axiosClient.delete(uri);\n  },\n};\n\nexport default moviesApi;\n","import {\n  LIST_MOVIE_REQUEST,\n  LIST_MOVIE_SUCCESS,\n  LIST_MOVIE_FAILED,\n  DETAIL_MOVIE_MODAL,\n} from \"./constant\";\nimport moviesApi from \"../../../../api/moviesApi\";\n\nconst actListMovieRequest = () => {\n  return {\n    type: LIST_MOVIE_REQUEST, \n  };\n};\n\nconst actListMovieSuccess = (data) => {\n  return {\n    type: LIST_MOVIE_SUCCESS,\n    data,\n  };\n};\nconst actListMovieFailed = (error) => {\n  return {\n    type: LIST_MOVIE_FAILED,\n    error,\n  };\n};\n\nconst actFetchListMoive = () => {\n  return async (dispatch) => {\n    dispatch(actListMovieRequest());\n    try {\n      const resData = await moviesApi.getDanhSachPhim();\n      dispatch(actListMovieSuccess(resData));\n    } catch (error) {\n      dispatch(actListMovieFailed(error));\n    }\n  };\n};\n\nconst actFindMovieTrailer = (movie) => {\n  return {\n    type: DETAIL_MOVIE_MODAL,\n    movie,\n  };\n};\n\nexport { actFetchListMoive, actFindMovieTrailer };\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  pageTitleContainer: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(4),\n    // marginTop: theme.spacing(3),\n  },\n  typo: {\n    color: theme.palette.text.hint,\n  },\n  button: {\n    textTransform: \"none\",\n    height: \"50px\",\n    \"&:active\": {\n      color: theme.palette.primary.light,\n    },\n  },\n}));\n\nexport default function PageTitle(props) {\n  // const theme = useTheme();\n  const classes = useStyles();\n  // console.log(theme);\n\n  return (\n    <div className={classes.pageTitleContainer}>\n      <Typography className={classes.typo} variant=\"h2\" size=\"sm\">\n        {props.title}\n      </Typography>\n\n      {props.button && (\n        <Button\n          classes={{ root: classes.button }}\n          variant=\"contained\"\n          size=\"large\"\n          color=\"secondary\"\n        >\n          {props.button}\n        </Button>\n      )}\n\n      {props.select && <div></div>}\n    </div>\n  );\n}\nPageTitle.propTypes = {\n  title: PropTypes.string.isRequired,\n  button: PropTypes.string,\n};\n","import React from \"react\";\n\nimport PropTypes from \"prop-types\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport PageTitle from \"../PageTitle\";\nimport useAdminStyles from \"../../../style/useAdminStyle\";\n\nexport default function MainContent(props) {\n  const classes = useAdminStyles();\n  const { title, children } = props;\n  return (\n    <Container maxWidth=\"lg\" className={classes.container}>\n      {/* <PageTitle title=\"Manage Showtime\" /> */}\n      {title && <PageTitle title={title} />}\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          {/* <Paper className={classes.paper}> */}\n          {children}\n          {/* <ShowtimeTable /> */}\n          {/* </Paper> */}\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nMainContent.propTypes = {\n  title: PropTypes.string.isRequired,\n};\n","import React, { memo, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport $ from \"jquery\";\nimport { useSelector } from \"react-redux\";\n\nfunction ModalPopup() {\n  const detailMovie = useSelector(\n    (state) => state.listMovieReducer.detailMovie\n  );\n\n  useEffect(() => {\n    //stop video when close modal\n    $(\"#movieTrailer\").on(\"hidden.bs.modal\", function (e) {\n      $(\"#movieTrailer iframe\").attr(\n        \"src\",\n        $(\"#movieTrailer iframe\").attr(\"src\")\n      );\n    }); \n  }, []);\n\n  // const {  detailMovie } = props;\n\n  return ReactDOM.createPortal(\n    <div\n      className=\"modal fade movieModal\"\n      tabIndex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"myLargeModalLabel\"\n      aria-hidden=\"true\"\n      id=\"movieTrailer\"\n    >\n      <div className=\"modal-dialog modal-dialog-centered modal-lg\">\n        <div className=\"modal-content\" style={{ background: \"#000\" }}>\n          <div className=\"modal-body\">\n            <iframe\n              title=\"trailer\"\n              width=\"100%\"\n              height=\"85%\"\n              src={detailMovie?.trailer}\n              // src={src}\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;\"\n              autoPlay\n              allowFullScreen\n            ></iframe>\n          </div>\n        </div>\n      </div>\n    </div>,\n    document.getElementById(\"modal-root\")\n  );\n}\n// $(\"#comingSoonTrailer\").on('hidden.bs.modal', function (e) {\n//           $(\"#comingSoonTrailer iframe\").attr(\"src\", $(\"#comingSoonTrailer iframe\").attr(\"src\"));\n//       });\n// const mapStateToProps = (state) => {\n//   return {\n//     detailMovie: state.listMovieReducer.detailMovie,\n//   };\n// };\n\n// export default connect(mapStateToProps, null)(ModalPopup);\nexport default memo(ModalPopup);\n","import { useState, useCallback } from \"react\";\n\nconst findUpatedKey = (newData = {}, oldData = {}) => {\n  const updatedKeys = Object.keys(newData).filter((key, idx) => {\n    return oldData[key] !== newData[key];\n  });\n  updatedKeys.pop(); // bỏ key tableData\n  return updatedKeys.join(\", \");\n};\n\nconst alertCase = (caseType, tableType, res, newData = {}, oldData = {}) => {\n  switch (caseType) {\n    case \"update\":\n      if (tableType === \"Account Table\") {\n        alert(\n          `Đã cập nhật ${findUpatedKey(newData, oldData)} người dùng: ${\n            res.taiKhoan\n          }`\n        );\n      } else if (\n        tableType === \"Movie Table\" ||\n        tableType === \"Showtime Table\"\n      ) {\n        alert(\n          `Đã cập nhật ${findUpatedKey(newData, oldData)} phim: ${res.tenPhim}`\n        );\n      }\n      break;\n\n    case \"delete\":\n      if (tableType === \"Account Table\") {\n        alert(`${res} tài khoản: ${oldData.taiKhoan}`);\n      } else if (\n        tableType === \"Movie Table\" ||\n        tableType === \"Showtime Table\"\n      ) {\n        alert(`${res} phim: ${oldData.tenPhim}`); //xoa thành công...\n      }\n      break;\n\n    case \"add\":\n      if (tableType === \"Account Table\") {\n        alert(`Thêm thành công người dùng: ${res.taiKhoan || newData.tenPhim}`);\n      } else if (\n        tableType === \"Movie Table\" ||\n        tableType === \"Showtime Table\"\n      ) {\n        alert(`Thêm thành công phim: ${res.tenPhim || newData.tenPhim}`);\n      }\n      break;\n\n    default:\n      alert(\"Action done!!\");\n      break;\n  }\n};\n\nconst transformString = (text = \"\") => {\n  return text.trim().toLowerCase().split(\" \").join(\"-\");\n};\n\nfunction useTable(tableType) {\n  //data of table\n  const [data, setData] = useState([]);\n  const [isChanged, setIsChanged] = useState(true);\n  const callAPI = useCallback(\n    (api, body) => {\n      // console.log(\"api call\");\n      //no api endpoint\n      if (api === undefined) return;\n\n      //post,put,delete\n      if (body !== null) {\n        return api(body);\n      }\n      //get (then set initial Data),\n      return (\n        api()\n          // api(body,...option)\n          .then((res) => {\n            setData(res);\n            //chỉ gọi lại api get với table Movie\n            if (tableType === \"Movie Table\") {\n              setIsChanged(false);\n            }\n          })\n          .catch((error) => {\n            alert(error.response.data);\n          })\n      );\n    },\n    [tableType]\n  );\n\n  const handleRowUpdate = (newData, oldData, resolve, reject, updateAPI) => {\n    // let newHinhAnh = newData.hinhAnh;\n\n    // if (typeof newData.hinhAnh === \"string\") {\n    //   newHinhAnh = await urlToObj(newData.hinhAnh);\n    // }\n\n    let body = {};\n    if (tableType === \"Account Table\") {\n      body = { ...newData };\n    } else if (tableType === \"Movie Table\") {\n      body = {\n        ...newData,\n        biDanh:\n          oldData.tenPhim !== newData.tenPhim\n            ? transformString(newData.tenPhim)\n            : oldData.biDanh,\n        ngayKhoiChieu: new Date(newData.ngayKhoiChieu).toLocaleDateString(\n          \"en-GB\"\n        ),\n        danhGia: parseInt(newData.danhGia),\n        hinhAnh: typeof newData.hinhAnh === \"string\" ? null : newData.hinhAnh,\n      };\n    }\n    console.log(body);\n\n    // usersApi\n    //   .editAccount({ ...newData, maNhom: \"GP09\" }, getToken())\n    callAPI(updateAPI, { ...body, maNhom: \"GP09\" })\n      .then((res) => {\n        const dataUpdate = [...data];\n        const index = oldData.tableData.id;\n        dataUpdate[index] = newData;\n\n        //update lai Table UI\n        setData([...dataUpdate]);\n\n        alertCase(\"update\", tableType, res, newData, oldData);\n\n        setIsChanged(true);\n        resolve();\n      })\n      .catch((error) => {\n        alert(\n          \"Lỗi sever, không thể cập nhật. Hãy chắc chắn bạn đã điền đầy đủ thông tin\"\n        );\n        console.log(error);\n\n        setIsChanged(false);\n        reject();\n      });\n  };\n\n  const handleRowAdd = (newData, resolve, reject, addAPI) => {\n    let body = {};\n    if (tableType === \"Account Table\") {\n      body = { ...newData, maNhom: \"GP09\" };\n    } else if (tableType === \"Movie Table\") {\n      body = {\n        ...newData,\n        maNhom: \"GP09\",\n        biDanh: transformString(newData.tenPhim),\n        ngayKhoiChieu: new Date(newData.ngayKhoiChieu).toLocaleDateString(\n          \"en-GB\"\n        ),\n      };\n      console.log(body);\n    }\n\n    // usersApi\n    // .postAddAccount(newData, getToken())\n    callAPI(addAPI, body)\n      .then((res) => {\n        let dataToAdd = [...data];\n        dataToAdd.unshift(newData);\n        setData(dataToAdd);\n\n        alertCase(\"add\", tableType, res, newData, null);\n        // alert(`Thêm thành công người dùng: ${res.taiKhoan}`);\n        setIsChanged(true);\n        resolve();\n      })\n      .catch((error) => {\n        alert(error?.response?.data);\n        setIsChanged(false);\n        reject();\n      });\n  };\n\n  const handleRowDelete = (oldData, resolve, reject, deleteAPI) => {\n    let body = null;\n    if (tableType === \"Account Table\") {\n      body = oldData.taiKhoan;\n    } else if (tableType === \"Movie Table\") {\n      body = oldData.maPhim;\n    }\n\n    // usersApi\n    //   .deleteAccount(oldData.taiKhoan, getToken())\n    callAPI(deleteAPI, body)\n      .then((res) => {\n        const dataDelete = [...data];\n        const index = oldData.tableData.id;\n        dataDelete.splice(index, 1);\n        setData([...dataDelete]);\n\n        alertCase(\"delete\", tableType, res, null, oldData);\n        // alert(`${res}: ${oldData.taiKhoan}`);\n        setIsChanged(true);\n        resolve();\n      })\n      .catch((error) => {\n        alert(error?.response?.data);\n        setIsChanged(false);\n        reject();\n      });\n  };\n\n  const handleFetchData = (getApi, ...query) => {\n    callAPI(getApi, ...query)\n      .then((res) => {\n        setData(res);\n        //chỉ gọi lại api get với table Movie\n        if (tableType === \"Movie Table\") {\n          setIsChanged(false);\n        }\n      })\n      .catch((error) => {\n        alert(error.response.data);\n      });\n  };\n\n  return {\n    data,\n    isChanged,\n    callAPI,\n    handleFetchData,\n    handleRowUpdate,\n    handleRowAdd,\n    handleRowDelete,\n  };\n}\n\nexport default useTable;\n","import MaterialTable from \"material-table\";\nimport React, { useEffect, forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport useMedia from \"./../../../Hook/useMedia\";\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\nimport useTable from \"./useTable\";\nimport { MOBILE_MEDIA } from \"../../../constants/config\";\n// import Alert from \"@material-ui/\";\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef((props, ref) => (\n    <ChevronRight {...props} ref={ref} />\n  )),\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef((props, ref) => (\n    <ChevronLeft {...props} ref={ref} />\n  )),\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <ArrowUpward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\n};\n\nfunction MyTable(props) {\n  const { tableType, getAPI, addAPI, updateAPI, deleteAPI } = props;\n  const isMobile = useMedia(MOBILE_MEDIA);\n\n  const {\n    data,\n    isChanged,\n    callAPI,\n    // handleFetchData,\n    handleRowUpdate,\n    handleRowAdd,\n    handleRowDelete,\n  } = useTable(tableType);\n\n  useEffect(() => {\n    if (isChanged) {\n      callAPI(getAPI, null);\n      // handleFetchData(getAPI, query);\n    }\n    // eslint-disable-line react-hooks/exhaustive-deps\n  }, [isChanged, callAPI, getAPI]);\n\n  return (\n    <>\n      <MaterialTable\n        title={props.title}\n        icons={tableIcons}\n        localization={{\n          body: {\n            editRow: {\n              deleteText:\n                \"Dữ liệu bị xóa sẽ không thể khôi phục. Bạn có chắc muốn xóa?\",\n            },\n          },\n        }}\n        columns={props.columns}\n        data={data}\n        options={{\n          headerStyle: {\n            fontWeight: \"900\",\n            backgroundColor: \"#999966\", //#01579b\n            color: \"#fff\",\n          },\n          addRowPosition: \"first\",\n          filtering: true,\n          padding: isMobile ? \"dense\" : \"default\",\n          // padding: \"dense\",\n          maxBodyHeight: \"70vh\",\n          draggable: false,\n          rowStyle: (rowData, idx, num) => ({\n            background: idx % 2 ? \"#c7c6ca\" : \"initial\",\n          }),\n          ...props.customTableOption,\n        }}\n        editable={{\n          onRowAdd: (newData) =>\n            new Promise((resovle, reject) => {\n              handleRowAdd(newData, resovle, reject, addAPI);\n            }),\n          /**\n           * EDIT\n           */\n\n          onRowUpdate: (newData, oldData) =>\n            new Promise((resolve, reject) => {\n              handleRowUpdate(newData, oldData, resolve, reject, updateAPI);\n            }),\n          /**\n           * DELETE\n           */\n          onRowDelete: (oldData) =>\n            new Promise((resolve, reject) => {\n              handleRowDelete(oldData, resolve, reject, deleteAPI);\n            }),\n        }}\n      />\n    </>\n  );\n}\n\nMyTable.propTypes = {\n  title: PropTypes.string.isRequired,\n  columns: PropTypes.array.isRequired,\n  tableType: PropTypes.string.isRequired,\n  customTableOption: PropTypes.object,\n\n  getAPI: PropTypes.func.isRequired,\n  addAPI: PropTypes.func.isRequired,\n  updateAPI: PropTypes.func.isRequired,\n  deleteAPI: PropTypes.func,\n};\n\nMyTable.defaultProps = {\n  title: \"Account List\",\n  columns: [],\n  tableType: \"Account Table\",\n\n  getAPI: () => {},\n  addAPI: () => {},\n  updateAPI: () => {},\n  deleteAPI: () => {},\n};\nexport default MyTable;\n","import React, { useMemo } from \"react\";\nimport { connect } from \"react-redux\";\nimport moviesApi from \"../../../api/moviesApi\";\nimport ModalPopup from \"../../../Components/ModalPopup\";\nimport { actFindMovieTrailer } from \"../../HOME/HomePage/modules/action\";\n\nimport MyTable from \"../MyTable.js\";\n\nconst validateFunc = (rowData, field) => {\n  // console.log(rowData);\n  //cho phép thực hiện xóa với mọi trường hợp\n  if (rowData.tableData?.editing === \"delete\") return true;\n\n  // console.log(rowData);\n  //truong hợp add thì rowData là obj rỗng nên phải tạo obj rowData với key=field/ value='' để validate ngay lập tức\n  if (field !== \"hinhAnh\" && !rowData[field]) rowData[field] = \"\";\n\n  //TH update thì obj rowData đã có các key là field và cũng đã có giá trị\n  if (field !== \"hinhAnh\" && rowData[field].length < 1) {\n    return {\n      isValid: false,\n      helperText: `${field} không được để trống`,\n    };\n  } else if (\n    field === \"hinhAnh\" &&\n    typeof rowData[field] === \"string\" &&\n    rowData.tableData?.editing !== \"update\"\n  ) {\n    return {\n      isValid: false,\n      helperText: `Bạn phải chọn hình ảnh`,\n    };\n  }\n\n  if (field !== \"danhGia\" && rowData[field].length < 4) {\n    return {\n      isValid: false,\n      helperText: `${field} quá ngắn`,\n    };\n  } else if (\n    field === \"danhGia\" &&\n    (parseFloat(rowData[field]) > 10 ||\n      parseFloat(rowData[field] < 0) ||\n      !String(rowData[field]).match(/^[0-9]{1,2}$/))\n  ) {\n    return {\n      isValid: false,\n      helperText: `Điểm từ  0 - 10`,\n    };\n  }\n\n  return true;\n};\n\nfunction makeColumns(props) {\n  const { actGetTrailer } = props;\n  return [\n    {\n      title: \"Tên phim\",\n      field: \"tenPhim\",\n      validate: (rowData) => validateFunc(rowData, \"tenPhim\"),\n      initialEditValue: \"Truyền Thuyết Quán Tiên\",\n    },\n    {\n      title: \"Trailer\",\n      field: \"trailer\",\n      render: (rowData) => (\n        <a\n          data-toggle=\"modal\"\n          data-target=\"#movieTrailer\"\n          href={`play-trailer-phim-${rowData.biDanh}`}\n          style={{ color: \"#01579b\", textDecoration: \"underline\" }}\n          onClick={() => actGetTrailer(rowData)}\n        >\n          Watch Trailer\n        </a>\n      ),\n      validate: (rowData) => validateFunc(rowData, \"trailer\"),\n      initialEditValue: \"https://www.youtube.com/embed/TyfBgQKsEXs\",\n    },\n    {\n      title: \"Hình ảnh\",\n      field: \"hinhAnh\",\n      // validate: (rowData) => validateFunc(rowData, \"hinhAnh\"),\n      render: (rowData) => (\n        <img\n          src={rowData.hinhAnh}\n          alt={rowData.tenPhim}\n          style={{ width: \"50px\" }}\n        />\n      ),\n      initialEditValue: new File([new Blob()], \"file placeholder for add new\"),\n      editComponent: (props) => {\n        return (\n          <div>\n            <input\n              type=\"file\"\n              name=\"hinhAnh\"\n              placeholder={props.columnDef.title}\n              onChange={(e) => {\n                // console.log(e.target.files);\n\n                // document.getElementById(\n                //   \"img-upload\"\n                // ).src = window.URL.createObjectURL(e.target.files[0]);\n                //thay đổi value của rowData (hinhAnh)\n                props.onChange(e.target.files[0]);\n              }}\n            />\n            <img\n              src={\n                typeof props.value === \"string\"\n                  ? props.value\n                  : window.URL.createObjectURL(props.value)\n              }\n              alt=\"preview\"\n              id=\"img-upload\"\n              style={{ width: \"50px\" }}\n            />\n          </div>\n        );\n      },\n    },\n    {\n      title: \"Mô tả\",\n      field: \"moTa\",\n      width: \"100%\",\n      initialEditValue:\n        \"Lấy bối cảnh Trường Sơn thời chống Mỹ, theo truyện ngắn gốc của nhà văn Xuân Thiều là năm 1966. Ba cô gái Mùi, Lan và Phượng được binh trạm trưởng giao nhiệm vụ mở quán ăn trong hang để tiếp tế cho bộ đội hành quân. Ba nữ thanh niên xung phong ở Quán Tiên, mỗi người là một mẫu phụ nữ. Mùi đàn bà, mặn mà nhưng chung thủy, kìm nén. Tuyết Lan bản năng, ngoài hiền lành trong dữ dội, mắc chứng cuồng loạn. Phượng trẻ con, vô tư nhưng sâu nặng khi yêu.\",\n      render: (rowData) => (\n        <div style={{ width: \"100%\", minWidth: \"350px\", textAlign: \"justify\" }}>\n          {rowData.moTa}\n        </div>\n      ),\n      editComponent: (props) => {\n        return (\n          <div style={{ width: \"100%\", minWidth: \"350px\" }}>\n            <textarea\n              rows=\"10\"\n              style={{ width: \"100%\" }}\n              placeholder=\"great movie\"\n              onChange={(e) => props.onChange(e.target.value)}\n              defaultValue={props.value || \"\"}\n            ></textarea>\n          </div>\n        );\n      },\n      validate: (rowData) => validateFunc(rowData, \"moTa\"),\n    },\n    {\n      title: \"Ngày khởi chiếu\",\n      field: \"ngayKhoiChieu\",\n      type: \"date\",\n      initialEditValue: new Date(),\n      dateSetting: { locale: \"en-GB\" },\n      validate: (rowData) => validateFunc(rowData, \"ngayKhoiChieu\"),\n    },\n    {\n      title: \"Đánh giá\",\n      field: \"danhGia\",\n      editable: \"onUpdate\",\n      initialEditValue: \"8\",\n      validate: (rowData) => validateFunc(rowData, \"danhGia\"),\n    },\n  ];\n}\n// const columnss = [\n//   {\n//     title: \"Tên phim\",\n//     field: \"tenPhim\",\n//     validate: (rowData) => validateFunc(rowData, \"tenPhim\"),\n//     initialEditValue: \"Truyền Thuyết Quán Tiên\",\n//   },\n//   {\n//     title: \"Trailer\",\n//     field: \"trailer\",\n//     width: \"100%\",\n//     render: (rowData) => (\n//       <a\n//         // href={rowData.trailer}\n//         // target=\"_blank\"\n//         // rel=\"noopener noreferrer\"\n//         data-toggle=\"modal\"\n//         href=\"#movieTrailer\"\n//         style={{ color: \"#01579b\", textDecoration: \"underline\" }}\n//         // onClick={()}\n//       >\n//         Watch Trailer\n//       </a>\n//     ),\n//     validate: (rowData) => validateFunc(rowData, \"trailer\"),\n//     initialEditValue: \"https://www.youtube.com/embed/TyfBgQKsEXs\",\n//   },\n//   {\n//     title: \"Hình ảnh\",\n//     field: \"hinhAnh\",\n//     // validate: (rowData) => validateFunc(rowData, \"hinhAnh\"),\n//     render: (rowData) => (\n//       <img\n//         src={rowData.hinhAnh}\n//         alt={rowData.tenPhim}\n//         style={{ width: \"50px\" }}\n//       />\n//     ),\n//     initialEditValue: new File([new Blob()], \"file placeholder for add new\"),\n//     editComponent: (props) => {\n//       return (\n//         <div>\n//           <input\n//             type=\"file\"\n//             name=\"hinhAnh\"\n//             placeholder={props.columnDef.title}\n//             onChange={(e) => {\n//               // console.log(e.target.files);\n\n//               // document.getElementById(\n//               //   \"img-upload\"\n//               // ).src = window.URL.createObjectURL(e.target.files[0]);\n//               //thay đổi value của rowData (hinhAnh)\n//               props.onChange(e.target.files[0]);\n//             }}\n//           />\n//           <img\n//             src={\n//               typeof props.value === \"string\"\n//                 ? props.value\n//                 : window.URL.createObjectURL(props.value)\n//             }\n//             alt=\"preview-update\"\n//             id=\"img-upload\"\n//             style={{ width: \"50px\" }}\n//           />\n//         </div>\n//       );\n//     },\n//   },\n//   {\n//     title: \"Mô tả\",\n//     field: \"moTa\",\n//     width: \"100%\",\n//     initialEditValue:\n//       \"Lấy bối cảnh Trường Sơn thời chống Mỹ, theo truyện ngắn gốc của nhà văn Xuân Thiều là năm 1966. Ba cô gái Mùi, Lan và Phượng được binh trạm trưởng giao nhiệm vụ mở quán ăn trong hang để tiếp tế cho bộ đội hành quân. Ba nữ thanh niên xung phong ở Quán Tiên, mỗi người là một mẫu phụ nữ. Mùi đàn bà, mặn mà nhưng chung thủy, kìm nén. Tuyết Lan bản năng, ngoài hiền lành trong dữ dội, mắc chứng cuồng loạn. Phượng trẻ con, vô tư nhưng sâu nặng khi yêu.\",\n//     render: (rowData) => (\n//       <div style={{ width: \"100%\", minWidth: \"350px\", textAlign: \"justify\" }}>\n//         {rowData.moTa}\n//       </div>\n//     ),\n//     editComponent: (props) => {\n//       return (\n//         <div style={{ width: \"100%\", minWidth: \"350px\" }}>\n//           <textarea\n//             rows=\"10\"\n//             style={{ width: \"100%\" }}\n//             placeholder=\"great movie\"\n//             onChange={(e) => props.onChange(e.target.value)}\n//             defaultValue={props.value || \"\"}\n//           ></textarea>\n//         </div>\n//       );\n//     },\n//     validate: (rowData) => validateFunc(rowData, \"moTa\"),\n//   },\n//   {\n//     title: \"Ngày khởi chiếu\",\n//     field: \"ngayKhoiChieu\",\n//     type: \"date\",\n//     initialEditValue: new Date(),\n//     dateSetting: { locale: \"en-GB\" },\n//     validate: (rowData) => validateFunc(rowData, \"ngayKhoiChieu\"),\n//   },\n//   {\n//     title: \"Đánh giá\",\n//     field: \"danhGia\",\n//     editable: \"onUpdate\",\n//     initialEditValue: \"8\",\n//     validate: (rowData) => validateFunc(rowData, \"danhGia\"),\n//   },\n// ];\n\nfunction MoviesTable(props) {\n  const columns = useMemo(() => makeColumns(props), [props]);\n  return (\n    <>\n      <MyTable\n        title=\"Movie List\"\n        tableType=\"Movie Table\"\n        columns={columns}\n        customTableOption={{ filtering: false }}\n        getAPI={moviesApi.getDanhSachPhim}\n        addAPI={moviesApi.postThemPhim}\n        updateAPI={moviesApi.postCapNhatPhim}\n        deleteAPI={moviesApi.deleteMovie}\n      />\n      <ModalPopup />\n    </>\n  );\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    actGetTrailer: (movie) => {\n      dispatch(actFindMovieTrailer(movie));\n    },\n  };\n};\nexport default connect(null, mapDispatchToProps)(MoviesTable);\n","  import Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport useTitle from \"../../../Hook/useTitle\";\nimport useAdminStyles from \"../../../style/useAdminStyle\";\nimport MainContent from \"../MainContent\";\nimport MoviesTable from \"./MoviesTable\";\n\nexport default function ManageMovies() {\n  // console.log(props);\n  useTitle(\"Quản lý phim\", \"admin\");\n  const classes = useAdminStyles();\n  return (\n    <MainContent title=\"Manage Movies\">\n      <Paper className={classes.paper}>\n        <MoviesTable />\n      </Paper>\n    </MainContent>\n  );\n}\n"],"sourceRoot":""}