{"version":3,"sources":["containers/HOME/SignUpPage/modules/action.js","containers/HOME/SignUpPage/index.js"],"names":["actSignUpSuccess","user","type","SIGN_UP_SUCCESS","INIT_SIGNUP_STATE","ho","ten","taiKhoan","matKhau","matKhau2","email","soDt","connect","state","loadingSignUp","userSignUpReducer","loading","errorSignUp","error","dispatch","fetchSignUp","history","a","SIGN_UP_REQUEST","usersApi","postSignUp","resData","push","SIGN_UP_FAILED","console","log","response","data","actFetchSignUp","props","classes","useUserStyles","useSetBackground","useTitle","useFormValidation","validateForm","handleChange","handleSubmit","handleBlur","values","errors","isNotValid","Container","component","maxWidth","className","wrapper","CssBaseline","paper","Avatar","avatar","src","alt","Typography","variant","form","noValidate","onSubmit","e","preventDefault","hoTen","maNhom","maLoaiNguoiDung","configBeforeSubmit","Grid","container","spacing","item","xs","sm","TextField","autoComplete","name","required","fullWidth","id","label","autoFocus","defaultValue","helperText","onChange","onBlur","FormControlLabel","control","Checkbox","value","color","ErrorUI","message","Button","submit","disabled","justify","to","Box","mt","Copyright"],"mappings":"iSAiBMA,EAAmB,SAACC,GACxB,MAAO,CACLC,KAAMC,IACNF,S,6DCKEG,EAAoB,CACxBC,GAAI,GACJC,IAAK,GAELC,SAAU,GACVC,QAAS,GACTC,SAAU,GACVC,MAAO,GACPC,KAAM,IAgOOC,uBAbS,SAACC,GACvB,MAAO,CACLC,cAAeD,EAAME,kBAAkBC,QACvCC,YAAaJ,EAAME,kBAAkBG,UAGd,SAACC,GAC1B,MAAO,CACLC,YAAa,SAACnB,EAAMoB,GAClBF,ED/NiB,SAAClB,EAAMoB,GAC5B,8CAAO,WAAOF,GAAP,iBAAAG,EAAA,6DACLH,EA5BK,CACLjB,KAAMqB,MA0BD,kBAGmBC,IAASC,WAAWxB,GAHvC,OAGGyB,EAHH,OAIHP,EAASnB,EAAiB0B,IAG1BL,EAAQM,KAAK,UAPV,gDASHR,GAjBmBD,EAiBM,EAAD,GAhBrB,CACLhB,KAAM0B,IACNV,WAeEW,QAAQC,IAAR,UAAY,KAAMC,gBAAlB,aAAY,EAAgBC,MAVzB,kCARe,IAACd,IAQhB,oBAAP,sDC8Nae,CAAehC,EAAMoB,QAIrBT,EA3Nf,SAAgBsB,GAAQ,IAAD,EACbd,EAA4Cc,EAA5Cd,YAAaN,EAA+BoB,EAA/BpB,cAAeG,EAAgBiB,EAAhBjB,YAG9BkB,EAAUC,cAChBC,cACAC,YAAS,wBANY,MAejBC,YAAkBnC,EAAmBoC,IAAcpB,EAAac,GANlEO,EATmB,EASnBA,aACAC,EAVmB,EAUnBA,aACAC,EAXmB,EAWnBA,WACAC,EAZmB,EAYnBA,OACAC,EAbmB,EAanBA,OACAC,EAdmB,EAcnBA,WAwBF,OACE,kBAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,KAAKC,UAAWf,EAAQgB,SAC3D,kBAACC,EAAA,EAAD,MACA,yBAAKF,UAAWf,EAAQkB,OACtB,kBAACC,EAAA,EAAD,CAAQJ,UAAWf,EAAQoB,QACzB,yBAAKC,IAzDF,mBAyDaC,IAAI,qBAEtB,kBAACC,EAAA,EAAD,CAAYV,UAAU,KAAKW,QAAQ,MAAnC,wBAGA,0BACET,UAAWf,EAAQyB,KACnBC,YAAU,EACVC,SAAU,SAACC,GAAD,OA9BS,SAACA,EAAGnB,GAC7BmB,EAAEC,iBADsC,IAEhC3D,EAA4CuC,EAA5CvC,GAAIC,EAAwCsC,EAAxCtC,IAAKC,EAAmCqC,EAAnCrC,SAAUC,EAAyBoC,EAAzBpC,QAASE,EAAgBkC,EAAhBlC,MAAOC,EAASiC,EAATjC,KAErCV,EAAO,CACXgE,MAAM,GAAD,OAAK5D,EAAL,YAAWC,GAChBC,WACAC,UACAG,OACAD,QACAwD,OAAQ,OACRC,gBAAiB,aAGnBzB,EAAaqB,EAAG9D,GAgBOmE,CAAmBL,EAAGnB,KAEvC,kBAACyB,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACvB,kBAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CACEC,aAAa,KACbC,KAAK,KACLlB,QAAQ,WACRmB,UAAQ,EACRC,WAAS,EACTC,GAAG,KACHC,MAAM,UACNC,WAAS,EACThE,QAAO2B,EAAOxC,GACd8E,aAAcvC,EAAOvC,GACrB+E,WAAYvC,EAAOxC,GACnBgF,SAAU5C,EACV6C,OAAQ3C,KAGZ,kBAAC0B,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CACEhB,QAAQ,WACRmB,UAAQ,EACRC,WAAS,EACTC,GAAG,MACHC,MAAM,SACNJ,KAAK,MACLD,aAAa,MACbO,aAAcvC,EAAOtC,IACrB+E,SAAU5C,EACV6C,OAAQ3C,EACRzB,QAAO2B,EAAOvC,IACd8E,WAAYvC,EAAOvC,OAGvB,kBAAC+D,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,IACb,kBAACE,EAAA,EAAD,CACEhB,QAAQ,WACRmB,UAAQ,EACRC,WAAS,EACTC,GAAG,WACHC,MAAM,oBACNJ,KAAK,WACLD,aAAa,WACbO,aAAcvC,EAAOrC,SACrB8E,SAAU5C,EACVvB,QAAO2B,EAAOtC,SACd6E,WAAYvC,EAAOtC,SACnB+E,OAAQ3C,KAGZ,kBAAC0B,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CACEhB,QAAQ,WACRmB,UAAQ,EACRC,WAAS,EACTF,KAAK,UACLI,MAAM,qBACN/E,KAAK,WACL8E,GAAG,UACHJ,aAAa,mBACbO,aAAcvC,EAAOpC,QACrB6E,SAAU5C,EACVvB,QAAO2B,EAAOrC,QACd4E,WAAYvC,EAAOrC,QACnB8E,OAAQ3C,KAGZ,kBAAC0B,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CACEhB,QAAQ,WAERmB,UAAQ,EACRC,WAAS,EACTF,KAAK,WACLI,MAAM,sCACN/E,KAAK,WACL8E,GAAG,WACHG,aAAcvC,EAAOnC,SACrB4E,SAAU5C,EACVvB,QAAO2B,EAAOpC,SACd2E,WAAYvC,EAAOpC,SACnB6E,OAAQ3C,KAGZ,kBAAC0B,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CACEhB,QAAQ,WACRmB,UAAQ,EACRC,WAAS,EACTC,GAAG,QACHC,MAAM,QACNJ,KAAK,QACLD,aAAa,QACbO,aAAcvC,EAAOlC,MACrB2E,SAAU5C,EACVvB,QAAO2B,EAAOnC,MACd0E,WAAYvC,EAAOnC,MACnB4E,OAAQ3C,KAGZ,kBAAC0B,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CACEhB,QAAQ,WACRmB,UAAQ,EACRC,WAAS,EACTC,GAAG,OACHC,MAAM,oCACNJ,KAAK,OACLD,aAAa,OACbO,aAAcvC,EAAOjC,KACrB0E,SAAU5C,EACVvB,QAAO2B,EAAOlC,KACdyE,WAAYvC,EAAOlC,KACnB2E,OAAQ3C,KAIZ,kBAAC0B,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,IACb,kBAACc,EAAA,EAAD,CACEC,QAAS,kBAACC,EAAA,EAAD,CAAUC,MAAM,mBAAmBC,MAAM,YAClDV,MAAM,oFAIXhE,GAAe,kBAAC2E,EAAA,EAAD,CAASC,QAAO,UAAE5E,EAAYc,gBAAd,aAAE,EAAsBC,OACxD,kBAAC8D,EAAA,EAAD,CACE5F,KAAK,SACL6E,WAAS,EACTpB,QAAQ,YACRgC,MAAM,UACNzC,UAAWf,EAAQ4D,OACnBC,SAAUlD,GAAchC,GAN1B,wBAUA,kBAACuD,EAAA,EAAD,CAAMC,WAAS,EAAC2B,QAAQ,YACtB,kBAAC5B,EAAA,EAAD,CAAMG,MAAI,GAER,kBAAC,OAAD,CAAc0B,GAAG,UACd,sFAOX,kBAACC,EAAA,EAAD,CAAKC,GAAI,GACP,kBAACC,EAAA,EAAD","file":"static/js/16.317cc167.chunk.js","sourcesContent":["import { SIGN_UP_FAILED, SIGN_UP_SUCCESS, SIGN_UP_REQUEST } from \"./constant\";\nimport usersApi from \"../../../../api/usersApi\";\n\nconst actSignUpRequest = () => {\n  return {\n    type: SIGN_UP_REQUEST,\n  };\n};\n\n//user data duoc post len sever\n// \"taiKhoan\": \"string\",\n// \"matKhau\": \"string\",\n// \"email\": \"string\",\n// \"soDt\": \"string\",\n// \"maNhom\": \"GP09\",\n// \"maLoaiNguoiDung\": \"KhachHang\",\n\nconst actSignUpSuccess = (user) => {\n  return {\n    type: SIGN_UP_SUCCESS,\n    user,\n  }; \n};\nconst actSignUpFailed = (error) => {\n  return {\n    type: SIGN_UP_FAILED,\n    error,\n  };\n};\n\nconst actFetchSignUp = (user, history) => {\n  return async (dispatch) => {\n    dispatch(actSignUpRequest());\n    try {\n      const resData = await usersApi.postSignUp(user);\n      dispatch(actSignUpSuccess(resData));\n      // alert(\"Dang ky thanh cong, bạn có thể đăng nhập\");\n\n      history.push(\"/login\");\n    } catch (error) {\n      dispatch(actSignUpFailed(error));\n      console.log(error.response?.data);\n    }\n  };\n};\n\nexport { actFetchSignUp };\n","import React from \"react\";\nimport { Link as NavigateLink } from \"react-router-dom\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\n\nimport { connect } from \"react-redux\";\nimport { actFetchSignUp } from \"./modules/action\";\nimport useSetBackground from \"./../../../Hook/useSetBackground\";\nimport ErrorUI from \"../../../Components/ErrorUI\";\nimport Copyright from \"../../../Components/Copyright\";\nimport validateForm from \"../../../Hook/validateForm\";\nimport useFormValidation from \"../../../Hook/useFormValidation\";\nimport useUserStyles from \"../../../style/useUserStyle\";\nimport useTitle from \"../../../Hook/useTitle\";\n\nconst logo = \"/images/logo.png\";\nconst INIT_SIGNUP_STATE = {\n  ho: \"\",\n  ten: \"\",\n  // hoTen: state.ho + state.ten,\n  taiKhoan: \"\",\n  matKhau: \"\",\n  matKhau2: \"\",\n  email: \"\",\n  soDt: \"\",\n  // maNhom: \"GP09\", //gửi vào khi submit\n  // maLoaiNguoiDung: \"KhachHang\",\n};\n\nfunction SignUp(props) {\n  const { fetchSignUp, loadingSignUp, errorSignUp } = props; // lay tu store redux\n  // console.log(props.history);\n\n  const classes = useUserStyles();\n  useSetBackground();\n  useTitle(\"Đăng Ký\");\n\n  const {\n    handleChange,\n    handleSubmit, \n    handleBlur,\n    values, // init = INIT_SIGNUP_STATE\n    errors, // init = INIT_LOGIN_STATE\n    isNotValid, //init = true\n  } = useFormValidation(INIT_SIGNUP_STATE, validateForm, fetchSignUp, props);\n\n  // console.log(\"errors\", errors);\n  // console.log(\"values\", values);\n  // console.log(\"isNotValid\", isNotValid);\n\n  const configBeforeSubmit = (e, values) => {\n    e.preventDefault();\n    const { ho, ten, taiKhoan, matKhau, email, soDt } = values;\n\n    const user = {\n      hoTen: `${ho} ${ten}`,\n      taiKhoan,\n      matKhau,\n      soDt,\n      email,\n      maNhom: \"GP09\",\n      maLoaiNguoiDung: \"KhachHang\",\n    };\n\n    handleSubmit(e, user);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.wrapper}>\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <img src={logo} alt=\"user thumbnails\" />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Đăng ký\n        </Typography>\n        <form\n          className={classes.form}\n          noValidate\n          onSubmit={(e) => configBeforeSubmit(e, values)}\n        >\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"ho\"\n                name=\"ho\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"ho\"\n                label=\"Họ\"\n                autoFocus\n                error={errors.ho ? true : false}\n                defaultValue={values.ho}\n                helperText={errors.ho}\n                onChange={handleChange}\n                onBlur={handleBlur}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"ten\"\n                label=\"Tên\"\n                name=\"ten\"\n                autoComplete=\"ten\"\n                defaultValue={values.ten}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                error={errors.ten ? true : false}\n                helperText={errors.ten}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"taiKhoan\"\n                label=\"Tài khoản\"\n                name=\"taiKhoan\"\n                autoComplete=\"taiKhoan\"\n                defaultValue={values.taiKhoan}\n                onChange={handleChange}\n                error={errors.taiKhoan ? true : false}\n                helperText={errors.taiKhoan}\n                onBlur={handleBlur}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"matKhau\"\n                label=\"Mật khẩu\"\n                type=\"password\"\n                id=\"matKhau\"\n                autoComplete=\"current-password\"\n                defaultValue={values.matKhau}\n                onChange={handleChange}\n                error={errors.matKhau ? true : false}\n                helperText={errors.matKhau}\n                onBlur={handleBlur}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                // error={renderWarn(this)[0]}\n                required\n                fullWidth\n                name=\"matKhau2\"\n                label=\"Xác nhận mật khẩu\"\n                type=\"password\"\n                id=\"matKhau2\"\n                defaultValue={values.matKhau2}\n                onChange={handleChange}\n                error={errors.matKhau2 ? true : false}\n                helperText={errors.matKhau2}\n                onBlur={handleBlur}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email\"\n                name=\"email\"\n                autoComplete=\"email\"\n                defaultValue={values.email}\n                onChange={handleChange}\n                error={errors.email ? true : false}\n                helperText={errors.email}\n                onBlur={handleBlur}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"soDt\"\n                label=\"Số Điện Thoại\"\n                name=\"soDt\"\n                autoComplete=\"soDt\"\n                defaultValue={values.soDt}\n                onChange={handleChange}\n                error={errors.soDt ? true : false}\n                helperText={errors.soDt}\n                onBlur={handleBlur}\n              />\n            </Grid>\n\n            <Grid item xs={12}>\n              <FormControlLabel\n                control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\n                label=\"Nhận các thông báo và ưu đãi mới nhất\"\n              />\n            </Grid>\n          </Grid>\n          {errorSignUp && <ErrorUI message={errorSignUp.response?.data} />}\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            disabled={isNotValid || loadingSignUp} //{loading}\n          >\n            Đăng ký\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              {/* <Link href=\"#\" variant=\"body2\"> */}\n              <NavigateLink to=\"/login\">\n                {\"Đã có tài khoản tại Tix? Đăng nhập ngay\"}\n              </NavigateLink>\n              {/* </Link> */}\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={3}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loadingSignUp: state.userSignUpReducer.loading,\n    errorSignUp: state.userSignUpReducer.error,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchSignUp: (user, history) => {\n      dispatch(actFetchSignUp(user, history));\n    },\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\n// export default WithForm(SignUp);\n"],"sourceRoot":""}