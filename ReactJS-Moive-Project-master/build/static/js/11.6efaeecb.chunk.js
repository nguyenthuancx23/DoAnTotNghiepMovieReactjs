(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[11],{293:function(e,t,n){"use strict";var a=n(36),i=n(2),r=n(171),o=Object(r.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarTitle:{margin:"0px",padding:"12px"},toolbarIcon:Object(i.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{height:"100vh",overflowY:"auto",position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),"&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}},drawerPaperClose:Object(a.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",flexDirection:"column",marginBottom:e.spacing(4)},fixedHeight:{height:240},activeNavLink:{background:"#F3F5FF",color:e.palette.primary.main}}}));t.a=o},339:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(0),i=n.n(a),r=n(275),o=n(279),c=n(269),l=n(98),u=n(171),d=Object(u.a)((function(e){return{pageTitleContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(4)},typo:{color:e.palette.text.hint},button:{textTransform:"none",height:"50px","&:active":{color:e.palette.primary.light}}}}));function s(e){var t=d();return i.a.createElement("div",{className:t.pageTitleContainer},i.a.createElement(l.a,{className:t.typo,variant:"h2",size:"sm"},e.title),e.button&&i.a.createElement(c.a,{classes:{root:t.button},variant:"contained",size:"large",color:"secondary"},e.button),e.select&&i.a.createElement("div",null))}var h=n(293);function f(e){var t=Object(h.a)(),n=e.title,a=e.children;return i.a.createElement(r.a,{maxWidth:"lg",className:t.container},n&&i.a.createElement(s,{title:n}),i.a.createElement(o.a,{container:!0,spacing:3},i.a.createElement(o.a,{item:!0,xs:12},a)))}},391:function(e,t,n){"use strict";var a=n(2),i=n(449),r=n.n(i),o=n(0),c=n.n(o),l=n(54),u=n(476),d=n.n(u),s=n(488),h=n.n(s),f=n(477),b=n.n(f),g=n(486),m=n.n(g),p=n(480),v=n.n(p),w=n(478),j=n.n(w),O=n(479),A=n.n(O),T=n(481),P=n.n(T),E=n(483),x=n.n(E),y=n(484),R=n.n(y),k=n(485),S=n.n(k),D=n(489),C=n.n(D),I=n(482),z=n.n(I),K=n(487),B=n.n(K),L=n(490),M=n.n(L),N=n(28),F=n(18),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e).filter((function(n,a){return t[n]!==e[n]}));return n.pop(),n.join(", ")},H=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};switch(e){case"update":"Account Table"===t?alert("\u0110\xe3 c\u1eadp nh\u1eadt ".concat(G(a,i)," ng\u01b0\u1eddi d\xf9ng: ").concat(n.taiKhoan)):"Movie Table"!==t&&"Showtime Table"!==t||alert("\u0110\xe3 c\u1eadp nh\u1eadt ".concat(G(a,i)," phim: ").concat(n.tenPhim));break;case"delete":"Account Table"===t?alert("".concat(n," t\xe0i kho\u1ea3n: ").concat(i.taiKhoan)):"Movie Table"!==t&&"Showtime Table"!==t||alert("".concat(n," phim: ").concat(i.tenPhim));break;case"add":"Account Table"===t?alert("Th\xeam th\xe0nh c\xf4ng ng\u01b0\u1eddi d\xf9ng: ".concat(n.taiKhoan||a.tenPhim)):"Movie Table"!==t&&"Showtime Table"!==t||alert("Th\xeam th\xe0nh c\xf4ng phim: ".concat(n.tenPhim||a.tenPhim));break;default:alert("Action done!!")}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().toLowerCase().split(" ").join("-")};var U=function(e){var t=Object(o.useState)([]),n=Object(F.a)(t,2),i=n[0],r=n[1],c=Object(o.useState)(!0),l=Object(F.a)(c,2),u=l[0],d=l[1],s=Object(o.useCallback)((function(t,n){if(void 0!==t)return null!==n?t(n):t().then((function(t){r(t),"Movie Table"===e&&d(!1)})).catch((function(e){alert(e.response.data)}))}),[e]);return{data:i,isChanged:u,callAPI:s,handleFetchData:function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];s.apply(void 0,[t].concat(a)).then((function(t){r(t),"Movie Table"===e&&d(!1)})).catch((function(e){alert(e.response.data)}))},handleRowUpdate:function(t,n,o,c,l){var u={};"Account Table"===e?u=Object(a.a)({},t):"Movie Table"===e&&(u=Object(a.a)(Object(a.a)({},t),{},{biDanh:n.tenPhim!==t.tenPhim?V(t.tenPhim):n.biDanh,ngayKhoiChieu:new Date(t.ngayKhoiChieu).toLocaleDateString("en-GB"),danhGia:parseInt(t.danhGia),hinhAnh:"string"===typeof t.hinhAnh?null:t.hinhAnh})),console.log(u),s(l,Object(a.a)(Object(a.a)({},u),{},{maNhom:"GP09"})).then((function(a){var c=Object(N.a)(i);c[n.tableData.id]=t,r(Object(N.a)(c)),H("update",e,a,t,n),d(!0),o()})).catch((function(e){alert("L\u1ed7i sever, kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt. H\xe3y ch\u1eafc ch\u1eafn b\u1ea1n \u0111\xe3 \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin"),console.log(e),d(!1),c()}))},handleRowAdd:function(t,n,o,c){var l={};"Account Table"===e?l=Object(a.a)(Object(a.a)({},t),{},{maNhom:"GP09"}):"Movie Table"===e&&(l=Object(a.a)(Object(a.a)({},t),{},{maNhom:"GP09",biDanh:V(t.tenPhim),ngayKhoiChieu:new Date(t.ngayKhoiChieu).toLocaleDateString("en-GB")}),console.log(l)),s(c,l).then((function(a){var o=Object(N.a)(i);o.unshift(t),r(o),H("add",e,a,t,null),d(!0),n()})).catch((function(e){var t;alert(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),d(!1),o()}))},handleRowDelete:function(t,n,a,o){var c=null;"Account Table"===e?c=t.taiKhoan:"Movie Table"===e&&(c=t.maPhim),s(o,c).then((function(a){var o=Object(N.a)(i),c=t.tableData.id;o.splice(c,1),r(Object(N.a)(o)),H("delete",e,a,null,t),d(!0),n()})).catch((function(e){var t;alert(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),d(!1),a()}))}}},$=n(10),J={Add:Object(o.forwardRef)((function(e,t){return c.a.createElement(d.a,Object.assign({},e,{ref:t}))})),Check:Object(o.forwardRef)((function(e,t){return c.a.createElement(b.a,Object.assign({},e,{ref:t}))})),Clear:Object(o.forwardRef)((function(e,t){return c.a.createElement(j.a,Object.assign({},e,{ref:t}))})),Delete:Object(o.forwardRef)((function(e,t){return c.a.createElement(A.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(o.forwardRef)((function(e,t){return c.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Edit:Object(o.forwardRef)((function(e,t){return c.a.createElement(P.a,Object.assign({},e,{ref:t}))})),Export:Object(o.forwardRef)((function(e,t){return c.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Filter:Object(o.forwardRef)((function(e,t){return c.a.createElement(x.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(o.forwardRef)((function(e,t){return c.a.createElement(R.a,Object.assign({},e,{ref:t}))})),LastPage:Object(o.forwardRef)((function(e,t){return c.a.createElement(S.a,Object.assign({},e,{ref:t}))})),NextPage:Object(o.forwardRef)((function(e,t){return c.a.createElement(v.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(o.forwardRef)((function(e,t){return c.a.createElement(m.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(o.forwardRef)((function(e,t){return c.a.createElement(j.a,Object.assign({},e,{ref:t}))})),Search:Object(o.forwardRef)((function(e,t){return c.a.createElement(B.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(o.forwardRef)((function(e,t){return c.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(o.forwardRef)((function(e,t){return c.a.createElement(C.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(o.forwardRef)((function(e,t){return c.a.createElement(M.a,Object.assign({},e,{ref:t}))}))};function Q(e){var t=e.tableType,n=e.getAPI,i=e.addAPI,u=e.updateAPI,d=e.deleteAPI,s=Object(l.a)($.d),h=U(t),f=h.data,b=h.isChanged,g=h.callAPI,m=h.handleRowUpdate,p=h.handleRowAdd,v=h.handleRowDelete;return Object(o.useEffect)((function(){b&&g(n,null)}),[b,g,n]),c.a.createElement(c.a.Fragment,null,c.a.createElement(r.a,{title:e.title,icons:J,localization:{body:{editRow:{deleteText:"D\u1eef li\u1ec7u b\u1ecb x\xf3a s\u1ebd kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a?"}}},columns:e.columns,data:f,options:Object(a.a)({headerStyle:{fontWeight:"900",backgroundColor:"#999966",color:"#fff"},addRowPosition:"first",filtering:!0,padding:s?"dense":"default",maxBodyHeight:"70vh",draggable:!1,rowStyle:function(e,t,n){return{background:t%2?"#c7c6ca":"initial"}}},e.customTableOption),editable:{onRowAdd:function(e){return new Promise((function(t,n){p(e,t,n,i)}))},onRowUpdate:function(e,t){return new Promise((function(n,a){m(e,t,n,a,u)}))},onRowDelete:function(e){return new Promise((function(t,n){v(e,t,n,d)}))}}}))}Q.defaultProps={title:"Account List",columns:[],tableType:"Account Table",getAPI:function(){},addAPI:function(){},updateAPI:function(){},deleteAPI:function(){}};t.a=Q},614:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n(174),i=n(0),r=n.n(i),o=n(67),c=n(293),l=n(339),u=n(111),d=n(391),s=function(e,t){var n,a,i;return"delete"===(null===(n=e.tableData)||void 0===n?void 0:n.editing)||(e[t]||(e[t]=""),("taiKhoan"===t||"hoTen"===t)&&e[t].length>=0&&(null===(a=e.tableData)||void 0===a?void 0:a.editing)?{isValid:!0,helperText:""}:e[t].length<1?{isValid:!1,helperText:"".concat(t," kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}:e[t].length<6?{isValid:!1,helperText:"".concat(t," qu\xe1 ng\u1eafn")}:!("email"===t&&(i=e[t],!/^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]+)\]))$/.test(String(i).toLowerCase())))||{isValid:!1,helperText:"".concat(t," kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng")})},h=[{title:"T\xe0i kho\u1ea3n",field:"taiKhoan",readonly:!0,editable:"onAdd",validate:function(e){return s(e,"taiKhoan")}},{title:"M\u1eadt kh\u1ea9u",field:"matKhau",validate:function(e){return s(e,"matKhau")}},{title:"H\u1ecd t\xean",field:"hoTen",readonly:!0,editable:"onAdd",validate:function(e){return s(e,"hoTen")}},{title:"Email",field:"email",validate:function(e){return s(e,"email")}},{title:"S\u0110T",field:"soDt",type:"numeric",validate:function(e){return s(e,"soDt")}},{title:"Lo\u1ea1i",field:"maLoaiNguoiDung",lookup:{QuanTri:"Admin",KhachHang:"User"},initialEditValue:"KhachHang"}];var f=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{title:"Account List",tableType:"Account Table",columns:h,getAPI:u.a.getAccountList,addAPI:u.a.postAddAccount,updateAPI:u.a.editAccount,deleteAPI:u.a.deleteAccount}))};function b(){Object(o.a)("Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng","admin");var e=Object(c.a)();return r.a.createElement(l.a,{title:"Manage Accounts"},r.a.createElement(a.a,{className:e.paper},r.a.createElement(f,null)))}}}]);
//# sourceMappingURL=11.6efaeecb.chunk.js.map